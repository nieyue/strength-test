webpackJsonp([9],{"4bVl":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=e("mvHQ"),r=e.n(d),n={name:"Standard",data:function(){var a=this;return{params:{pageSizeOpts:[10,20,50,100,500,1e3],startNum:1,currentPage:1,pageNum:1,pageSize:10,total:0},rankList:[{id:1,value:"不良"},{id:2,value:"未达"},{id:3,value:"合格"},{id:4,value:"良好"},{id:5,value:"优秀"}],sexList:[{id:1,value:"男性"},{id:2,value:"女性"},{id:3,value:"未知"}],rankParamsList:[{id:"",value:"全部"},{id:1,value:"不良"},{id:2,value:"未达"},{id:3,value:"合格"},{id:4,value:"良好"},{id:5,value:"优秀"}],sexParamsList:[{id:"",value:"全部"},{id:1,value:"男性"},{id:2,value:"女性"},{id:3,value:"未知"}],addStandardModel:!1,addLoading:!1,addStandardRules:{item:[{required:!0,message:"项为必填项",trigger:"blur"}]},addStandard:{age:0,sex:3,rank:1,low:0,high:0,item:"",projectId:""},updateStandardModel:!1,updateLoading:!1,updateStandardRules:{item:[{required:!0,message:"项为必填项",trigger:"blur"}]},updateStandard:{},deleteStandard:{},projectList:[],standardList:[],standardColumns:[{title:"序号",align:"center",render:function(t,e){return t("span",e.index+(a.params.currentPage-1)*a.params.pageSize+a.params.startNum)}},{title:"标准id",key:"standardId",align:"center"},{title:"项目",align:"center",render:function(a,t){return a("div",t.row.project.name)}},{title:"年龄",key:"age",align:"center"},{title:"性别",align:"center",render:function(t,e){var d="";return a.sexList.forEach(function(a){a.id==e.row.sex&&(d=a.value)}),t("span",d)}},{title:"等级",key:"rank",align:"center",render:function(t,e){var d="";return a.rankList.forEach(function(a){a.id==e.row.rank&&(d=a.value)}),t("span",d)}},{title:"低高位",align:"center",render:function(a,t){return a("span",t.row.low+"~"+t.row.high)}},{title:"项",key:"item",align:"center"},{title:"创建时间",key:"createDate",sortable:!0,align:"center"},{title:"修改时间",key:"updateDate",sortable:!0,align:"center"},{title:"操作",key:"action",align:"center",render:function(t,e){var d=t("Button",{props:{type:"primary",size:"small"},style:{margin:"5px"},on:{click:function(){a.update(e.row)}}},"编辑"),r=t("Button",{props:{type:"error",size:"small"},style:{margin:"5px"},on:{click:function(){a.delete(e.row)}}},"删除");t("div","");return t("div",[d,r])}}]}},methods:{search:function(){this.params.currentPage=1,this.params.pageNum=1,this.getList()},selectPage:function(a){this.params.currentPage=a,this.params.pageNum=(this.params.currentPage-1)*this.params.pageSize+this.params.startNum;var t=r()({currentPage:a});this.$router.push(this.$route.path.substr(0,this.$route.path.indexOf(this.$route.params.pathParams))+t),this.getList()},onPageSizeChange:function(a){this.getList(a)},getProjectList:function(){var a=this;this.params.pageSize=1e6,this.axiosbusiness.getList(this,{countUrl:"/project/count",listUrl:"/project/list",data:"projectList",success:function(){a.params.pageSize=10,a.selectPage(JSON.parse(a.$route.params.pathParams).currentPage),!a.params.age&&(a.params.age=null),a.addStandard.projectId=a.projectList.length>0?a.projectList[0].projectId:null}},this.params)},getList:function(a){var t=this;this.params.pageSize=a||this.params.pageSize,this.axiosbusiness.getList(this,{countUrl:"/standard/count",listUrl:"/standard/list",data:"standardList",success:function(){!t.params.age&&(t.params.age=null)}},this.params)},add:function(a){this.addStandardModel=!0},addCancel:function(){this.addLoading||(this.addStandardModel=!1,this.$refs.addStandard.resetFields())},addSure:function(){this.axiosbusiness.add(this,{ref:"addStandard",url:"/standard/add",requestObject:"addStandard",loading:"addLoading",showModel:"addStandardModel"})},update:function(a){this.updateStandardModel=!0,this.updateStandard.standardId=a.standardId,this.updateStandard.projectId=a.projectId,this.axiosbusiness.get(this,{url:"/standard/load?standardId="+a.standardId,data:"updateStandard"})},updateCancel:function(){this.updateLoading||(this.updateStandardModel=!1,this.$refs.updateStandard.resetFields())},updateSure:function(){delete this.updateStandard.project,this.axiosbusiness.update(this,{ref:"updateStandard",url:"/standard/update",requestObject:"updateStandard",loading:"updateLoading",showModel:"updateStandardModel"})},delete:function(a){this.deleteStandard={standardId:a.standardId},this.axiosbusiness.delete(this,{url:"/standard/delete",requestObject:"deleteStandard"})}},created:function(){this.getProjectList()},mounted:function(){}},s={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"body-wrap"},[e("div",{staticClass:"body-btn-wrap"},[e("Button",{attrs:{type:"primary"},on:{click:a.add}},[a._v("增加标准")]),a._v(" "),e("div",{staticClass:"search-wrap"},[e("Select",{staticClass:"search-wrap-input",attrs:{transfer:"",placeholder:"项目，全部"},model:{value:a.params.projectId,callback:function(t){a.$set(a.params,"projectId",t)},expression:"params.projectId"}},a._l(a.projectList,function(t){return e("Option",{key:t.projectId,attrs:{value:t.projectId}},[a._v(a._s(t.name))])})),a._v(" "),e("InputNumber",{staticClass:"search-wrap-input",attrs:{max:200,min:0,precision:0,placeholder:"年龄"},model:{value:a.params.age,callback:function(t){a.$set(a.params,"age",t)},expression:"params.age"}}),a._v(" "),e("Select",{staticClass:"search-wrap-input",attrs:{transfer:"",placeholder:"性别，全部"},model:{value:a.params.sex,callback:function(t){a.$set(a.params,"sex",t)},expression:"params.sex"}},a._l(a.sexParamsList,function(t){return e("Option",{key:t.id,attrs:{value:t.id}},[a._v(a._s(t.value))])})),a._v(" "),e("Select",{staticClass:"search-wrap-input",attrs:{transfer:"",placeholder:"等级，全部"},model:{value:a.params.rank,callback:function(t){a.$set(a.params,"rank",t)},expression:"params.rank"}},a._l(a.rankParamsList,function(t){return e("Option",{key:t.id,attrs:{value:t.id}},[a._v(a._s(t.value))])})),a._v(" "),e("Button",{attrs:{type:"info"},on:{click:a.search}},[a._v("查询")])],1)],1),a._v(" "),e("Modal",{attrs:{title:"新增标准管理",closable:!1,"mask-closable":!1,width:"1000px"},model:{value:a.addStandardModel,callback:function(t){a.addStandardModel=t},expression:"addStandardModel"}},[e("Form",{ref:"addStandard",attrs:{model:a.addStandard,"label-width":100,"label-position":"right",rules:a.addStandardRules}},[e("FormItem",{attrs:{prop:"projectId",label:"项目:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.addStandard.projectId,callback:function(t){a.$set(a.addStandard,"projectId",t)},expression:"addStandard.projectId"}},a._l(a.projectList,function(t){return e("Radio",{key:t.projectId,staticStyle:{margin:"5px"},attrs:{label:t.projectId,value:t.projectId}},[a._v("\n                  "+a._s(t.name)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"age",label:"年龄:"}},[e("InputNumber",{attrs:{max:200,min:0,precision:0},model:{value:a.addStandard.age,callback:function(t){a.$set(a.addStandard,"age",t)},expression:"addStandard.age"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"sex",label:"性别:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.addStandard.sex,callback:function(t){a.$set(a.addStandard,"sex",t)},expression:"addStandard.sex"}},a._l(a.sexList,function(t){return e("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[a._v("\n                  "+a._s(t.value)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"rank",label:"等级:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.addStandard.rank,callback:function(t){a.$set(a.addStandard,"rank",t)},expression:"addStandard.rank"}},a._l(a.rankList,function(t){return e("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[a._v("\n                  "+a._s(t.value)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"low",label:"低位:"}},[e("InputNumber",{attrs:{max:1e9,min:-9999999,precision:2},model:{value:a.addStandard.low,callback:function(t){a.$set(a.addStandard,"low",t)},expression:"addStandard.low"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"high",label:"高位:"}},[e("InputNumber",{attrs:{max:1e9,min:-9999999,precision:2},model:{value:a.addStandard.high,callback:function(t){a.$set(a.addStandard,"high",t)},expression:"addStandard.high"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"item",label:"项:"}},[e("Input",{attrs:{type:"text",placeholder:"项"},model:{value:a.addStandard.item,callback:function(t){a.$set(a.addStandard,"item",t)},expression:"addStandard.item"}})],1)],1),a._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:a.addCancel}},[a._v("取消")]),a._v(" "),e("Button",{attrs:{type:"primary",loading:a.addLoading}},[a.addLoading?e("span",[a._v("Loading...")]):e("span",{on:{click:a.addSure}},[a._v("确定")])])],1)],1),a._v(" "),e("Modal",{attrs:{title:"修改标准管理",closable:!1,"mask-closable":!1,width:"1000px"},model:{value:a.updateStandardModel,callback:function(t){a.updateStandardModel=t},expression:"updateStandardModel"}},[e("Form",{ref:"updateStandard",attrs:{model:a.updateStandard,"label-width":100,"label-position":"right",rules:a.updateStandardRules}},[e("FormItem",{attrs:{prop:"projectId",label:"项目:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.updateStandard.projectId,callback:function(t){a.$set(a.updateStandard,"projectId",t)},expression:"updateStandard.projectId"}},a._l(a.projectList,function(t){return e("Radio",{key:t.projectId,staticStyle:{margin:"5px"},attrs:{label:t.projectId,value:t.projectId}},[a._v("\n                  "+a._s(t.name)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"age",label:"年龄:"}},[e("InputNumber",{attrs:{max:200,min:0,precision:0},model:{value:a.updateStandard.age,callback:function(t){a.$set(a.updateStandard,"age",t)},expression:"updateStandard.age"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"sex",label:"性别:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.updateStandard.sex,callback:function(t){a.$set(a.updateStandard,"sex",t)},expression:"updateStandard.sex"}},a._l(a.sexList,function(t){return e("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[a._v("\n                  "+a._s(t.value)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"rank",label:"等级:"}},[e("RadioGroup",{attrs:{type:"button"},model:{value:a.updateStandard.rank,callback:function(t){a.$set(a.updateStandard,"rank",t)},expression:"updateStandard.rank"}},a._l(a.rankList,function(t){return e("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[a._v("\n                  "+a._s(t.value)+"\n              ")])}))],1),a._v(" "),e("FormItem",{attrs:{prop:"low",label:"低位:"}},[e("InputNumber",{attrs:{max:1e9,min:-9999999,precision:2},model:{value:a.updateStandard.low,callback:function(t){a.$set(a.updateStandard,"low",t)},expression:"updateStandard.low"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"high",label:"高位:"}},[e("InputNumber",{attrs:{max:1e9,min:-9999999,precision:2},model:{value:a.updateStandard.high,callback:function(t){a.$set(a.updateStandard,"high",t)},expression:"updateStandard.high"}})],1),a._v(" "),e("FormItem",{attrs:{prop:"item",label:"项:"}},[e("Input",{attrs:{type:"text",placeholder:"项"},model:{value:a.updateStandard.item,callback:function(t){a.$set(a.updateStandard,"item",t)},expression:"updateStandard.item"}})],1)],1),a._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:a.updateCancel}},[a._v("取消")]),a._v(" "),e("Button",{attrs:{type:"primary",loading:a.updateLoading}},[a.updateLoading?e("span",[a._v("Loading...")]):e("span",{on:{click:a.updateSure}},[a._v("确定")])])],1)],1),a._v(" "),e("Table",{ref:"table",attrs:{border:"",height:"600",columns:a.standardColumns,data:a.standardList,size:"small"}}),a._v(" "),e("div",{staticStyle:{display:"inline-block",float:"right","margin-top":"10px"}},[e("Page",{ref:"page",staticStyle:{"margin-right":"10px"},attrs:{"show-sizer":"","page-size-opts":a.params.pageSizeOpts,current:a.params.currentPage,total:a.params.total,pageSize:a.params.pageSize,"show-total":!0,"show-elevator":""},on:{"on-page-size-change":a.onPageSizeChange,"on-change":a.selectPage}})],1)],1)},staticRenderFns:[]},i=e("VU/8")(n,s,!1,null,null,null);t.default=i.exports}});
//# sourceMappingURL=9.b3d3eec21bef9203083e.js.map