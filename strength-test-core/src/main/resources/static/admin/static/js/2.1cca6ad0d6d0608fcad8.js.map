{"version":3,"sources":["webpack:///src/components/common/TopBar.vue","webpack:///./src/components/common/TopBar.vue?12b5","webpack:///./src/components/common/TopBar.vue","webpack:///./src/components/common/FooterBar.vue?f043","webpack:///./src/components/common/FooterBar.vue","webpack:///src/components/common/FooterBar.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?0611","webpack:///./src/components/Login.vue"],"names":["TopBar","name","created","this","routerPath","$route","path","indexOf","getIslogin","getConfig","watch","data","islogin","account","isCollapsed","config","computed","rotateIcon","topbarWidth","titleFontSize","titleMarginLeft","methods","collapsedSider","Hub","$emit","gologinpage","$router","push","_this","axios","method","url","withCredentials","then","res","code","document","querySelector","innerText","platformName","catch","loginout","_this2","$Modal","confirm","title","content","onOk","business","getAccount","accountId","console","log","sessionStorage","clear","$Message","success","error","onCancel","_this3","getItem","$nextTick","info","common_TopBar","render","_vm","_h","$createElement","_c","_self","staticClass","style","width","staticStyle","font-size","line-height","margin-left","fontSize","marginLeft","domProps","textContent","_s","_v","directives","rawName","value","expression","display","height","vertical-align","class","margin","attrs","type","size","nativeOn","click","$event","color","realname","nickname","phone","on","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","common_FooterBar","_m","href","components_common_FooterBar","Login","components","FooterBar","adminName","password","verificationCode","loading","loginAccountRules","required","message","trigger","getVerificationCode","responseType","blob","Blob","window","URL","createObjectURL","login","$refs","validate","valid","Qs","stringify","msg","setItem","stringify_default","role","rolePermissionList","pathParams","components_Login","background","ref","label-width","model","rules","prop","placeholder","callback","$$v","$set","slot","keyup","_k","keyCode","key","src","long","Login_Component","Login_normalizeComponent"],"mappings":"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","file":"static/js/2.1cca6ad0d6d0608fcad8.js","sourcesContent":["<!-- 顶部 -->\r\n<template>\r\n    <div class=\"topbar\">\r\n        <div class=\"topbar-left\" :style=\"{width:topbarWidth}\">\r\n           <!-- <img src=\"/static/logo.png\" style=\"width:76px;height:76px;\"/> -->\r\n            <!-- <span class=\"topbar-left-title\" style=\"font-size:2rem;line-height:6rem;margin-left:2rem;\" >学籍管理</span> -->\r\n            <span class=\"topbar-left-title\" style=\"font-size:2rem;line-height:6rem;margin-left:2rem;\"  :style=\"{fontSize:titleFontSize,marginLeft:titleMarginLeft}\"  v-text=\"config.platformName||''\"></span>\r\n\r\n        </div>\r\n        <div style=\"display:inline-block;height:82px;vertical-align:top;line-height:82px;\" v-show=\"account.accountId\">\r\n          <Icon @click.native=\"collapsedSider\"  :class=\"rotateIcon\"  :style=\"{margin: '0 20px'}\" type=\"md-menu\" size=\"50\"></Icon>\r\n        </div>\r\n       <!--  <div class=\"topbar-loginregister\" v-if=\"!islogin\">\r\n          <router-link class=\"footer-bar-company\" to=\"/login\"><Button size=\"large\" type=\"primary\" ghost>登录</Button></router-link>\r\n          <router-link class=\"footer-bar-company\" to=\"/register\"><Button size=\"large\" type=\"primary\">注册</Button></router-link>\r\n        </div> -->\r\n        <div class=\"topbar-right\" v-if=\"islogin\">\r\n\r\n            <span  class=\"topbar-right-logintext\" style=\"color:#ccc;\" v-text=\"account.realname||account.nickname||account.phone\" ></span>\r\n            <Button type=\"text\"  class=\"topbar-right-loginout\" @click=\"loginout\">退出</Button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: 'TopBar',\r\n    created(){\r\n\r\n       this.routerPath=this.$route.path;\r\n\r\n      if(this.routerPath.indexOf(\"/main\")>-1||this.routerPath.indexOf(\"/login\")>-1||this.routerPath.indexOf(\"/register\")>-1){\r\n        //是否登陆\r\n        this.getIslogin();\r\n       }\r\n       //获取配置\r\n       this.getConfig();\r\n       \r\n    },\r\n    watch: {\r\n  //   //监听父组件的变量\r\n  //  'isLogin': function (n, o) {\r\n  //    console.log(n)\r\n  //   this.islogin=n;\r\n  //  },\r\n  //   //监听自身的变量\r\n  //  'islogin': function (n, o) {\r\n  //    console.log(n)\r\n  //   this.islogin=n;\r\n  //  }\r\n  },\r\n    data () {\r\n      return {\r\n        routerPath:this.$route.path,\r\n        islogin:false,\r\n        account:{},\r\n        isCollapsed: false,//默认\r\n        config:{}\r\n      }\r\n    },\r\n     computed: {\r\n        rotateIcon () {\r\n            return [\r\n                'menu-icon',\r\n                this.isCollapsed ? 'rotate-icon' : ''\r\n            ];\r\n        },\r\n        topbarWidth(){\r\n          return this.isCollapsed?'76px':'260px'\r\n        },\r\n        titleFontSize(){\r\n          return this.isCollapsed?'0rem':'2rem'\r\n        },\r\n        titleMarginLeft(){\r\n          return this.isCollapsed?'0.2rem':'2rem'\r\n        },\r\n     },\r\n    methods: {\r\n      //点击切换\r\n        collapsedSider () {\r\n            this.isCollapsed=!this.isCollapsed\r\n            this.Hub.$emit('isCollapsed',this.isCollapsed);\r\n\r\n            },\r\n      //跳转到登陆页面\r\n      gologinpage(){\r\n        this.$router.push(\"/login\");\r\n      },\r\n      //获取配置数据\r\n      getConfig(){\r\n        this.axios({\r\n                method:\"get\",\r\n                url:'/config/list',\r\n                withCredentials: true\r\n              }).\r\n              then(res => {\r\n                if (res.data.code == 200) {\r\n                  this.config=res.data.data[0];\r\n                  document.querySelector(\"title\").innerText=this.config.platformName\r\n                } else {\r\n\r\n                }\r\n              }).catch(res => {\r\n              })\r\n      },\r\n      //退出登陆\r\n     loginout(){\r\n      this.$Modal.confirm({\r\n              title: '退出登陆？',\r\n              content: '<p>确定退出登陆吗？</p>',\r\n              onOk: () => {\r\n                this.axios({\r\n                method:\"post\",\r\n                url:'/account/loginout?accountId='+this.business.getAccount().accountId,\r\n                withCredentials: true\r\n              }).\r\n              then(res => {\r\n                console.log(res)\r\n                if (res.data.code == 200) {\r\n                  this.islogin=true;\r\n                  sessionStorage.clear();\r\n                  this.$emit(\"islogin\",this.islogin);\r\n                  this.$Message.success('退出成功！');\r\n                  this.$router.push('/login')\r\n                } else {\r\n                  this.$emit(\"islogin\",this.islogin);\r\n                  this.$Message.error('失败')\r\n                }\r\n              }).catch(res => {\r\n                this.$Message.error('系统异常')\r\n              })\r\n              },\r\n              onCancel: () => {\r\n                  this.$Message.success('取消成功！');\r\n              }\r\n          });\r\n     },\r\n      //验证是否登陆\r\n      getIslogin(){\r\n        if(!sessionStorage.getItem(\"account\")){\r\n          sessionStorage.clear()\r\n          this.$emit(\"islogin\",this.islogin);\r\n          if(this.routerPath.indexOf(\"/main\")>-1\r\n          ||this.routerPath.indexOf(\"/login\")>-1\r\n          ){\r\n            this.$nextTick(()=>{\r\n            this.$router.push('/login')\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        this.axios({\r\n               method:\"post\",\r\n               url:'/account/islogin',\r\n               withCredentials: true\r\n            }).\r\n            then(res => {\r\n              console.log(res)\r\n              if (res.data.code == 200) {\r\n                this.islogin=true;\r\n                //设置本地account\r\n                this.account=res.data.data[0];\r\n                this.$emit(\"islogin\",this.islogin);\r\n                //this.$router.push('/main')\r\n              } else {\r\n                sessionStorage.clear()\r\n                this.$emit(\"islogin\",this.islogin);\r\n                this.$router.push('/login')\r\n                this.$Message.info('请登录')\r\n              }\r\n            }).catch(res => {\r\n              this.$Message.error('系统异常')\r\n            })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\">\r\n@import \"TopBar.less\";\r\n.menu-icon{\r\n        transition: all .3s;\r\n        cursor:pointer;\r\n    }\r\n  .rotate-icon{\r\n      transform: rotate(-90deg);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/TopBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topbar\"},[_c('div',{staticClass:\"topbar-left\",style:({width:_vm.topbarWidth})},[_c('span',{staticClass:\"topbar-left-title\",staticStyle:{\"font-size\":\"2rem\",\"line-height\":\"6rem\",\"margin-left\":\"2rem\"},style:({fontSize:_vm.titleFontSize,marginLeft:_vm.titleMarginLeft}),domProps:{\"textContent\":_vm._s(_vm.config.platformName||'')}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.account.accountId),expression:\"account.accountId\"}],staticStyle:{\"display\":\"inline-block\",\"height\":\"82px\",\"vertical-align\":\"top\",\"line-height\":\"82px\"}},[_c('Icon',{class:_vm.rotateIcon,style:({margin: '0 20px'}),attrs:{\"type\":\"md-menu\",\"size\":\"50\"},nativeOn:{\"click\":function($event){return _vm.collapsedSider($event)}}})],1),_vm._v(\" \"),(_vm.islogin)?_c('div',{staticClass:\"topbar-right\"},[_c('span',{staticClass:\"topbar-right-logintext\",staticStyle:{\"color\":\"#ccc\"},domProps:{\"textContent\":_vm._s(_vm.account.realname||_vm.account.nickname||_vm.account.phone)}}),_vm._v(\" \"),_c('Button',{staticClass:\"topbar-right-loginout\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.loginout}},[_vm._v(\"退出\")])],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-010309e8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/TopBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-010309e8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TopBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TopBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TopBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-010309e8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TopBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/TopBar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer-bar\"},[_c('div',{staticClass:\"footer-bar-wrap\"},[_c('div',{staticClass:\"footer-bar-line-wrap\"},[_c('span',{staticClass:\"footer-bar-link\"},[_vm._v(\"友情链接：\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"https://mp.weixin.qq.com/\"}},[_vm._v(\"微信公众平台\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"https://wx.qq.com/\"}},[_vm._v(\"微信网页版\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"http://weixin.sogou.com/\"}},[_vm._v(\"搜狗微信\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"https://baijia.baidu.com/\"}},[_vm._v(\"百度百家\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"https://om.qq.com/userAuth/index\"}},[_vm._v(\"企鹅号\")]),_vm._v(\" \"),_c('a',{staticClass:\"footer-bar-link\",attrs:{\"href\":\"https://weibo.com/\"}},[_vm._v(\"新浪微博\")])]),_vm._v(\" \"),_c('div',{staticClass:\"footer-bar-line-wrap\"},[_c('div',[_vm._v(\"Copyright © 2018\")])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61002e06\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/FooterBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61002e06\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FooterBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FooterBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FooterBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61002e06\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FooterBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/FooterBar.vue\n// module id = null\n// module chunks = ","<!-- 底部 -->\r\n<template>\r\n    <div class=\"footer-bar\">\r\n        <div class=\"footer-bar-wrap\">\r\n            <div class=\"footer-bar-line-wrap\">\r\n              <span class=\"footer-bar-link\">友情链接：</span>\r\n              <a class=\"footer-bar-link\" href=\"https://mp.weixin.qq.com/\">微信公众平台</a>\r\n              <a class=\"footer-bar-link\" href=\"https://wx.qq.com/\">微信网页版</a>\r\n              <a class=\"footer-bar-link\" href=\"http://weixin.sogou.com/\">搜狗微信</a>\r\n              <a class=\"footer-bar-link\" href=\"https://baijia.baidu.com/\">百度百家</a>\r\n              <a class=\"footer-bar-link\" href=\"https://om.qq.com/userAuth/index\">企鹅号</a>\r\n              <a class=\"footer-bar-link\" href=\"https://weibo.com/\">新浪微博</a>\r\n            </div>\r\n            <div class=\"footer-bar-line-wrap\">\r\n              <div>Copyright © 2018</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: 'FooterBar',\r\n    created(){ \r\n    },\r\n    data () {\r\n      return {\r\n      }\r\n    },\r\n    methods: {\r\n     \r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\">\r\n@import \"FooterBar.less\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/FooterBar.vue","<!--首页 -->\r\n<template>\r\n  <div>  \r\n  <!--顶部-->\r\n      <top-bar @islogin=\"getIslogin\"></top-bar>\r\n  <!--顶部 end -->\r\n    <div class=\"login-wrap\" style=\"background:url('./static/banner1.png') no-repeat;\">\r\n      <Form ref=\"account\"  :label-width=\"0\" class=\"login-account\" :model=\"account\" :rules=\"loginAccountRules\">\r\n        <FormItem prop=\"adminName\" class=\"login-account-inputwrap\">\r\n            <Input type=\"text\"  v-model=\"account.adminName\" size=\"large\" placeholder=\"输入手机号\" class=\"login-account-input\">\r\n                <Icon type=\"ios-phone-portrait\" slot=\"prefix\"/>\r\n            </Input>\r\n        </FormItem>\r\n        <FormItem prop=\"password\" class=\"login-account-inputwrap\">\r\n          <Input type=\"password\"  v-model=\"account.password\" placeholder=\"密码\" class=\"login-account-input\" >\r\n            <Icon type=\"ios-lock-outline\" slot=\"prefix\"/>\r\n          </Input>\r\n        </FormItem>\r\n        <FormItem prop=\"verificationCode\" class=\"login-account-inputwrap\">\r\n            <Input type=\"text\"  v-model=\"account.verificationCode\" size=\"large\"  class=\"login-account-input50\"  placeholder=\"验证码\" @keyup.enter.native=\"login('account')\"> \r\n                <Icon type=\"ios-image-outline\" slot=\"prefix\"/>\r\n            </Input>\r\n            <div class=\"login-account-input50\">\r\n                <img :src=\"verificationCode\" @click=\"getVerificationCode()\" style=\"height:50px;vertical-align:middle\" />\r\n            </div>\r\n        </FormItem>\r\n        <Button type=\"primary\" long  class=\"login-account-inputwrap\" >\r\n          <span v-if=\"!loading\" style=\"width:100%;display:inline-block;font-size:1.2rem;\"  @click=\"login('account')\">登录</span>\r\n          <span v-else>Loading...</span>\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n\r\n    <footer-bar></footer-bar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TopBar from '@/components/common/TopBar'\r\nimport FooterBar from '@/components/common/FooterBar';\r\n  export default {\r\n    name: 'Login',\r\n    components:{\r\n      TopBar,\r\n      FooterBar\r\n    },\r\n    created(){\r\n    \r\n    },\r\n    data () {\r\n      return {\r\n        //登陆信息\r\n        account: {\r\n          adminName: '',\r\n          password: '',\r\n          verificationCode: '',\r\n        },\r\n        //是否登陆默认false\r\n        islogin:false,\r\n        //验证码\r\n        verificationCode:'',\r\n        // 点击登录之后等待登录结果而不是多次点击\r\n        loading: false,\r\n        loginAccountRules: {\r\n          adminName: [\r\n            { required: true, message: '请输入手机号', trigger: 'blur' }\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入密码', trigger: 'blur' }\r\n          ],\r\n          verificationCode: [\r\n            { required: true, message: '请输入验证码', trigger: 'blur' }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      // aduiClick(p){\r\n      //   this.$refs[p].click();\r\n      // },\r\n      //获取验证码\r\n      getVerificationCode(){\r\n        this.axios({\r\n          method:\"post\",\r\n          url:'/tool/getVerificationCode',\r\n          withCredentials: true,  \r\n          responseType:'blob'\r\n          })\r\n        .then((res)=>{\r\n          var blob = new Blob([res.data], {type: \"image/png\"}); \r\n            //console.log(blob);  \r\n          this.verificationCode=window.URL.createObjectURL(blob);\r\n\r\n        }).catch((error)=>{\r\n           // console.log(error);\r\n            this.$Message.error(\"错误\")\r\n         });\r\n      },\r\n      //登陆\r\n      login (name) {\r\n        this.$refs[name].validate((valid) => {\r\n        console.log('123')\r\n          if (valid) {\r\n            this.loading = true\r\n            this.axios({\r\n               method:\"post\",\r\n               url:'/account/login',\r\n               withCredentials: true,\r\n               data: this.Qs.stringify(this.account)\r\n            }).\r\n            then(res => {\r\n              console.log(res)\r\n              this.loading = false\r\n              if (res.data.code == 200) {\r\n                this.$Message.success(res.data.msg)\r\n                console.log(res.data.data[0])\r\n               // sessionStorage.setItem(\"account\",JSON.stringify(res.data.data[0]))\r\n                sessionStorage.setItem(\"account\",JSON.stringify(res.data.data[0].account))\r\n                sessionStorage.setItem(\"role\",JSON.stringify(res.data.data[0].role))\r\n                sessionStorage.setItem(\"rolePermissionList\",JSON.stringify(res.data.data[0].rolePermissionList))\r\n                this.$router.push('/main/welcome/'+JSON.stringify(this.pathParams))\r\n              \r\n              } else {\r\n                this.$Message.error(res.data.msg)\r\n                this.loading = false\r\n              }\r\n            }).catch(res => {\r\n              this.loading = false\r\n              this.$Message.error('系统异常')\r\n            })\r\n          } else {\r\n            this.$Message.error('用户名和密码是必填项')\r\n          }\r\n        })\r\n      },\r\n      //获取子组件传递上来的值\r\n      getIslogin(islogin){\r\n        this.islogin=islogin;\r\n        if(islogin){\r\n          this.$router.push(\"/main/welcome/\"+JSON.stringify(this.pathParams))\r\n        }else{\r\n          //获取验证码\r\n          this.getVerificationCode();\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\">\r\n@import \"Login.less\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('top-bar',{on:{\"islogin\":_vm.getIslogin}}),_vm._v(\" \"),_c('div',{staticClass:\"login-wrap\",staticStyle:{\"background\":\"url('./static/banner1.png') no-repeat\"}},[_c('Form',{ref:\"account\",staticClass:\"login-account\",attrs:{\"label-width\":0,\"model\":_vm.account,\"rules\":_vm.loginAccountRules}},[_c('FormItem',{staticClass:\"login-account-inputwrap\",attrs:{\"prop\":\"adminName\"}},[_c('Input',{staticClass:\"login-account-input\",attrs:{\"type\":\"text\",\"size\":\"large\",\"placeholder\":\"输入手机号\"},model:{value:(_vm.account.adminName),callback:function ($$v) {_vm.$set(_vm.account, \"adminName\", $$v)},expression:\"account.adminName\"}},[_c('Icon',{attrs:{\"slot\":\"prefix\",\"type\":\"ios-phone-portrait\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"login-account-inputwrap\",attrs:{\"prop\":\"password\"}},[_c('Input',{staticClass:\"login-account-input\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.account.password),callback:function ($$v) {_vm.$set(_vm.account, \"password\", $$v)},expression:\"account.password\"}},[_c('Icon',{attrs:{\"slot\":\"prefix\",\"type\":\"ios-lock-outline\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"login-account-inputwrap\",attrs:{\"prop\":\"verificationCode\"}},[_c('Input',{staticClass:\"login-account-input50\",attrs:{\"type\":\"text\",\"size\":\"large\",\"placeholder\":\"验证码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.login('account')}},model:{value:(_vm.account.verificationCode),callback:function ($$v) {_vm.$set(_vm.account, \"verificationCode\", $$v)},expression:\"account.verificationCode\"}},[_c('Icon',{attrs:{\"slot\":\"prefix\",\"type\":\"ios-image-outline\"},slot:\"prefix\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"login-account-input50\"},[_c('img',{staticStyle:{\"height\":\"50px\",\"vertical-align\":\"middle\"},attrs:{\"src\":_vm.verificationCode},on:{\"click\":function($event){_vm.getVerificationCode()}}})])],1),_vm._v(\" \"),_c('Button',{staticClass:\"login-account-inputwrap\",attrs:{\"type\":\"primary\",\"long\":\"\"}},[(!_vm.loading)?_c('span',{staticStyle:{\"width\":\"100%\",\"display\":\"inline-block\",\"font-size\":\"1.2rem\"},on:{\"click\":function($event){_vm.login('account')}}},[_vm._v(\"登录\")]):_c('span',[_vm._v(\"Loading...\")])])],1)],1),_vm._v(\" \"),_c('footer-bar')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5c05051c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5c05051c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c05051c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}