webpackJsonp([13],{kJo1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("mvHQ"),s=t.n(i),n={name:"Withdrawals",data:function(){var e=this;return{params:{pageSizeOpts:[10,20,50,100,500,1e3],startNum:1,currentPage:1,pageNum:1,pageSize:10,total:0},methodList:[{id:1,value:"支付宝"},{id:2,value:"微信"},{id:3,value:"百度钱包"},{id:4,value:"Paypal"},{id:5,value:"网银"},{id:6,value:"ios内购"},{id:7,value:"余额"}],typeList:[{id:1,value:"购买商品"},{id:2,value:"提现记录"},{id:3,value:"退款记录"},{id:4,value:"诚信押金"},{id:5,value:"商品售出"},{id:6,value:"推广分成"},{id:7,value:"上级推广分成"}],statusList:[{id:1,value:"待处理"},{id:2,value:"成功"},{id:3,value:"已拒绝"}],methodParamsList:[{id:"",value:"全部"},{id:1,value:"支付宝"},{id:2,value:"微信"},{id:3,value:"百度钱包"},{id:4,value:"Paypal"},{id:5,value:"网银"},{id:6,value:"ios内购"},{id:7,value:"余额"}],statusParamsList:[{id:"",value:"全部"},{id:1,value:"待处理"},{id:2,value:"成功"},{id:3,value:"已拒绝"}],updateFinanceRecordModel:!1,updateLoading:!1,updateFinanceRecord:{},updateFinanceRecordRules:{},financeRecordList:[],financeRecordColumns:[{title:"序号",align:"center",render:function(a,t){return a("span",t.index+(e.params.currentPage-1)*e.params.pageSize+e.params.startNum)}},{title:"财务记录id",key:"financeRecordId",align:"center"},{title:"账户id",key:"accountId",align:"center"},{title:"支付方式",key:"method",align:"center",render:function(a,t){var i="";return e.methodList.forEach(function(e){e.id==t.row.method&&(i=e.value)}),a("span",i)}},{title:"支付类型",key:"type",align:"center",render:function(a,t){var i="";return e.typeList.forEach(function(e){e.id==t.row.type&&(i=e.value)}),a("span",i)}},{title:"交易单号",key:"transactionNumber",align:"center"},{title:"真实姓名",key:"realname",align:"center"},{title:"账户",key:"mark",align:"center"},{title:"金额",key:"realMoney",align:"center"},{title:"状态",key:"status",align:"center",render:function(a,t){var i="",s=void 0;return e.statusList.forEach(function(e){e.id==t.row.status&&(i=e.value)}),s=a("span",i),"待处理"==i&&(s=a("span",[i,a("Button",{props:{type:"error",size:"small"},on:{click:function(){e.withdrawals(t.row)}}},"提现到账")])),s}},{title:"创建时间",key:"createDate",sortable:!0,align:"center"},{title:"修改时间",key:"updateDate",sortable:!0,align:"center"}]}},methods:{search:function(){this.params.transactionNumber||delete this.params.transactionNumber,this.params.currentPage=1,this.params.pageNum=1,this.getList()},selectPage:function(e){this.params.currentPage=e,this.params.pageNum=(this.params.currentPage-1)*this.params.pageSize+this.params.startNum;var a=s()({currentPage:e});this.$router.push(this.$route.path.substr(0,this.$route.path.indexOf(this.$route.params.pathParams))+a),this.getList()},onPageSizeChange:function(e){this.getList(e)},getList:function(e){this.params.type=2,this.params.pageSize=e||this.params.pageSize,this.axiosbusiness.getList(this,{countUrl:"/financeRecord/count",listUrl:"/financeRecord/list",data:"financeRecordList"},this.params)},update:function(e){this.updateFinanceRecordModel=!0,this.axiosbusiness.get(this,{url:"/financeRecord/"+e.financeRecordId,data:"updateFinanceRecord"})},updateCancel:function(){this.updateLoading||(this.updateFinanceRecordModel=!1,this.$refs.updateFinanceRecord.resetFields())},updateSure:function(){this.axiosbusiness.update(this,{ref:"updateFinanceRecord",url:"/financeRecord/update",requestObject:"updateFinanceRecord",loading:"updateLoading",showModel:"updateFinanceRecordModel"})},withdrawals:function(e){var a=this;this.axiosbusiness.get(this,{url:"/financeRecord/withdrawals?financeRecordId="+e.financeRecordId,data:"updateFinanceRecord",success:function(){a.financeRecordList.forEach(function(e){e.financeRecordId==a.updateFinanceRecord.financeRecordId&&a.financeRecordList.splice(a.financeRecordList.indexOf(e),1,a.updateFinanceRecord)})}})}},watch:{$route:function(e,a){this.selectPage(JSON.parse(this.$route.params.pathParams).currentPage)}},created:function(){this.selectPage(JSON.parse(this.$route.params.pathParams).currentPage)},mounted:function(){}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"body-wrap"},[t("div",{staticClass:"body-btn-wrap"},[t("div",{staticClass:"search-wrap"},[t("Select",{staticClass:"search-wrap-input",attrs:{transfer:"",placeholder:"支付类型，全部"},model:{value:e.params.method,callback:function(a){e.$set(e.params,"method",a)},expression:"params.method"}},e._l(e.methodParamsList,function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.value))])})),e._v(" "),t("Input",{staticClass:"search-wrap-input",attrs:{placeholder:"账户Id"},model:{value:e.params.accountId,callback:function(a){e.$set(e.params,"accountId",a)},expression:"params.accountId"}}),e._v(" "),t("Input",{staticClass:"search-wrap-input",attrs:{placeholder:"交易单号"},model:{value:e.params.transactionNumber,callback:function(a){e.$set(e.params,"transactionNumber",a)},expression:"params.transactionNumber"}}),e._v(" "),t("Select",{staticClass:"search-wrap-input",attrs:{transfer:"",placeholder:"状态，全部"},model:{value:e.params.status,callback:function(a){e.$set(e.params,"status",a)},expression:"params.status"}},e._l(e.statusParamsList,function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.value))])})),e._v(" "),t("Button",{attrs:{type:"info"},on:{click:e.search}},[e._v("查询")])],1)]),e._v(" "),t("Modal",{attrs:{title:"修改状态",closable:!1,"mask-closable":!1},model:{value:e.updateFinanceRecordModel,callback:function(a){e.updateFinanceRecordModel=a},expression:"updateFinanceRecordModel"}},[t("Form",{ref:"updateFinanceRecord",attrs:{model:e.updateFinanceRecord,"label-width":100,"label-position":"right",rules:e.updateFinanceRecordRules}},[t("FormItem",{attrs:{prop:"status",label:"状态:"}},[t("Select",{staticClass:"search-wrap-input",attrs:{transfer:""},model:{value:e.updateFinanceRecord.status,callback:function(a){e.$set(e.updateFinanceRecord,"status",a)},expression:"updateFinanceRecord.status"}},e._l(e.statusList,function(a){return t("Option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.value))])}))],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{on:{click:e.updateCancel}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary",loading:e.updateLoading}},[e.updateLoading?t("span",[e._v("Loading...")]):t("span",{on:{click:e.updateSure}},[e._v("确定")])])],1)],1),e._v(" "),t("Table",{ref:"table",attrs:{border:"",columns:e.financeRecordColumns,data:e.financeRecordList,size:"small"}}),e._v(" "),t("div",{staticStyle:{display:"inline-block",float:"right","margin-top":"10px"}},[t("Page",{ref:"page",staticStyle:{"margin-right":"10px"},attrs:{"show-sizer":"","page-size-opts":e.params.pageSizeOpts,total:e.params.total,pageSize:e.params.pageSize,"show-total":!0,"show-elevator":""},on:{"on-page-size-change":e.onPageSizeChange,"on-change":e.selectPage}})],1)],1)},staticRenderFns:[]},c=t("VU/8")(n,r,!1,null,null,null);a.default=c.exports}});
//# sourceMappingURL=13.bbabe8bdb2bbe99b2ca6.js.map