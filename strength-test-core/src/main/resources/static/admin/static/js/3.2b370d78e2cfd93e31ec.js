webpackJsonp([3],{"9bBU":function(e,t,a){a("mClu");var r=a("FeBl").Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},C4MV:function(e,t,a){e.exports={default:a("9bBU"),__esModule:!0}},bOdI:function(e,t,a){"use strict";t.__esModule=!0;var r,s=a("C4MV"),i=(r=s)&&r.__esModule?r:{default:r};t.default=function(e,t,a){return t in e?(0,i.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},fsmg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOdI"),s=a.n(r),i=a("mvHQ"),d=a.n(i),n={name:"Mer",data:function(){var e=this;return{params:{pageSizeOpts:[10,20,50,100,500,1e3],startNum:1,currentPage:1,pageNum:1,pageSize:10,total:0},typeParamsList:[{id:"",value:"全部"},{id:1,value:"普通商品"},{id:2,value:"降价商品"},{id:3,value:"预购商品"}],recommendParamsList:[{id:"",value:"全部"},{id:1,value:"不推"},{id:2,value:"封推"},{id:3,value:"推荐"}],statusParamsList:[{id:"",value:"全部"},{id:1,value:"上架"},{id:2,value:"下架"}],typeList:[{id:1,value:"普通商品"},{id:2,value:"降价商品"},{id:3,value:"预购商品"}],recommendList:[{id:1,value:"不推"},{id:2,value:"封推"},{id:3,value:"推荐"}],statusList:[{id:1,value:"上架"},{id:2,value:"下架"}],addMerModel:!1,addLoading:!1,addMerRules:{name:[{required:!0,message:"商品名称为必填项",trigger:"blur"}]},addMer:{},updateMerModel:!1,updateLoading:!1,updateMerRules:{name:[{required:!0,message:"商品名称为必填项",trigger:"blur"}]},updateMer:{merId:1},deleteMer:{},merCateList:[],merList:[],merColumns:[{title:"序号",minWidth:100,align:"center",render:function(t,a){return t("span",a.index+(e.params.currentPage-1)*e.params.pageSize+e.params.startNum)}},{title:"商品id",minWidth:100,key:"merId",align:"center"},{title:"类型",key:"type",minWidth:100,align:"center",render:function(t,a){var r="";return e.typeList.forEach(function(e){e.id==a.row.type&&(r=e.value)}),t("span",r)}},{title:"推荐",key:"recommend",minWidth:100,align:"center",render:function(t,a){var r="";return e.recommendList.forEach(function(e){e.id==a.row.recommend&&(r=e.value)}),t("span",r)}},{title:"商品名称",minWidth:100,key:"name",align:"center"},{title:"封面",key:"imgAddress",minWidth:100,align:"center",render:function(e,t){return e("img",{attrs:{src:t.row.imgAddress},style:{width:"80px"}})}},{title:"价格",minWidth:160,align:"center",render:function(e,t){return e("div",{style:{textAlign:"left"}},[e("div","原始单价:"+t.row.oldUnitPrice),e("div","折扣:"+t.row.discount),e("div","单价:"+t.row.unitPrice)])}},{title:"其他",minWidth:160,align:"center",render:function(e,t){return e("div",{style:{textAlign:"left"}},[e("div","库存:"+t.row.stockNumber),e("div","销量:"+t.row.saleNumber),e("div","评分:"+t.row.merScore),e("div","评论数:"+t.row.merCommentNumber)])}},{title:"状态",key:"status",minWidth:100,align:"center",render:function(t,a){var r="";return e.statusList.forEach(function(e){e.id==a.row.status&&(r=e.value)}),t("span",r)}},{title:"创建时间",minWidth:100,key:"createDate",sortable:!0,align:"center"},{title:"修改时间",minWidth:100,key:"updateDate",sortable:!0,align:"center"},{title:"操作",minWidth:200,key:"action",align:"center",render:function(t,a){var r=t("Button",{props:{type:"primary",size:"small"},style:{margin:"3px"},on:{click:function(){e.update(a.row)}}},"编辑"),s=t("Button",{props:{type:"error",size:"small"},style:{margin:"3px"},on:{click:function(){e.delete(a.row)}}},"删除"),i=t("Button",{props:{type:"dashed",size:"small"},style:{margin:"3px"},on:{click:function(){var t=d()({currentPage:1,merId:a.row.merId});e.$router.push("/main/merImg/"+t),setTimeout(function(){e.Hub.$emit("navroad",e.$router.currentRoute)},200)}}},"商品图片");t("div","");return t("div",[t("div",[r,s]),t("div",[i])])}}]}},methods:{search:function(){this.params.currentPage=1,this.params.pageNum=1,this.getList()},selectPage:function(e){this.params.currentPage=e,this.params.pageNum=(this.params.currentPage-1)*this.params.pageSize+this.params.startNum;var t=d()({currentPage:e});this.$router.push(this.$route.path.substr(0,this.$route.path.indexOf(this.$route.params.pathParams))+t),this.getList()},changeAddOldUnitPrice:function(e){this.addMer.unitPrice=e*this.addMer.discount},changeAddDiscount:function(e){this.addMer.unitPrice=e*this.addMer.oldUnitPrice},changeUpdateOldUnitPrice:function(e){this.updateMer.unitPrice=e*this.updateMer.discount},changeUpdateDiscount:function(e){this.updateMer.unitPrice=e*this.updateMer.oldUnitPrice},getAddImgAddress:function(e){this.addMer.imgAddress=e[0].url},getUpdateImgAddress:function(e){this.updateMer.imgAddress=e[0].url},getAddDetails:function(e){this.addMer.details=e},getUpdateDetails:function(e){this.updateMer.details=e},onPageSizeChange:function(e){this.getList(e)},getMerCateList:function(){var e=this;this.params.pageSize=1e6,this.axiosbusiness.getList(this,{countUrl:"/merCate/count",listUrl:"/merCate/list",data:"merCateList",success:function(){e.params.pageSize=10,e.selectPage(JSON.parse(e.$route.params.pathParams).currentPage)}},this.params)},getList:function(e){this.params.pageSize=e||this.params.pageSize,this.axiosbusiness.getList(this,{countUrl:"/mer/count",listUrl:"/mer/list",data:"merList"},this.params)},add:function(e){var t;this.addMerModel=!0,this.addMer=(t={merCateId:this.merCateList[0].merCateId,type:this.typeList[0].id,recommend:this.recommendList[0].id,status:this.statusList[0].id,imgAddress:"",details:" "},s()(t,"status",1),s()(t,"oldUnitPrice",0),s()(t,"discount",0),s()(t,"unitPrice",0),t)},addCancel:function(){this.addLoading||(this.addMerModel=!1,this.$refs.addMer.resetFields())},addSure:function(){this.axiosbusiness.add(this,{ref:"addMer",url:"/mer/add",requestObject:"addMer",loading:"addLoading",showModel:"addMerModel"})},update:function(e){this.updateMerModel=!0,this.axiosbusiness.get(this,{url:"/mer/load?merId="+e.merId,data:"updateMer"})},updateCancel:function(){this.updateLoading||(this.updateMerModel=!1,this.$refs.updateMer.resetFields())},updateSure:function(){delete this.updateMer.merCate,delete this.updateMer.merImgList,this.axiosbusiness.update(this,{ref:"updateMer",url:"/mer/update",requestObject:"updateMer",loading:"updateLoading",showModel:"updateMerModel"})},delete:function(e){this.deleteMer={merId:e.merId},this.axiosbusiness.delete(this,{url:"/mer/delete",requestObject:"deleteMer"})}},watch:{$route:function(e,t){this.getMerCateList()}},created:function(){this.getMerCateList()},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body-wrap"},[a("div",{staticClass:"body-btn-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("增加商品")]),e._v(" "),a("div",{staticClass:"search-wrap"},[a("div",[a("label",{attrs:{for:""}},[e._v("类型：")]),e._v(" "),a("RadioGroup",{attrs:{type:"button"},model:{value:e.params.type,callback:function(t){e.$set(e.params,"type",t)},expression:"params.type"}},e._l(e.typeParamsList,function(t){return a("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[e._v("\n                    "+e._s(t.value)+"\n                ")])}))],1),e._v(" "),a("div",[a("label",{attrs:{for:""}},[e._v("推荐：")]),e._v(" "),a("RadioGroup",{attrs:{type:"button"},model:{value:e.params.recommend,callback:function(t){e.$set(e.params,"recommend",t)},expression:"params.recommend"}},e._l(e.recommendParamsList,function(t){return a("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[e._v("\n                    "+e._s(t.value)+"\n                ")])}))],1),e._v(" "),a("div",[a("label",{attrs:{for:""}},[e._v("状态：")]),e._v(" "),a("RadioGroup",{attrs:{type:"button"},model:{value:e.params.status,callback:function(t){e.$set(e.params,"status",t)},expression:"params.status"}},e._l(e.statusParamsList,function(t){return a("Radio",{key:t.id,staticStyle:{margin:"5px"},attrs:{label:t.id,value:t.id}},[e._v("\n                    "+e._s(t.value)+"\n                ")])}))],1),e._v(" "),a("div",[a("Input",{staticClass:"search-wrap-input",attrs:{placeholder:"名称，模糊查询"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}}),e._v(" "),a("Input",{staticClass:"search-wrap-input",attrs:{placeholder:"商品类型id"},model:{value:e.params.merCateId,callback:function(t){e.$set(e.params,"merCateId",t)},expression:"params.merCateId"}}),e._v(" "),a("Input",{staticClass:"search-wrap-input",attrs:{placeholder:"商户账户id"},model:{value:e.params.sellerAccountId,callback:function(t){e.$set(e.params,"sellerAccountId",t)},expression:"params.sellerAccountId"}}),e._v(" "),a("Button",{attrs:{type:"info"},on:{click:e.search}},[e._v("查询")])],1)])],1),e._v(" "),a("Modal",{attrs:{title:"新增商品管理",closable:!1,"mask-closable":!1,width:"1000px"},model:{value:e.addMerModel,callback:function(t){e.addMerModel=t},expression:"addMerModel"}},[a("Form",{ref:"addMer",attrs:{model:e.addMer,"label-width":100,"label-position":"right",rules:e.addMerRules}},[a("FormItem",{attrs:{prop:"merCateId",label:"商品类型:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.addMer.merCateId,callback:function(t){e.$set(e.addMer,"merCateId",t)},expression:"addMer.merCateId"}},e._l(e.merCateList,function(t){return a("Option",{key:t.merCateId,attrs:{value:t.merCateId}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"name",label:"名称:"}},[a("Input",{attrs:{type:"text",placeholder:"名称"},model:{value:e.addMer.name,callback:function(t){e.$set(e.addMer,"name",t)},expression:"addMer.name"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"summary",label:"简介:"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"简介"},model:{value:e.addMer.summary,callback:function(t){e.$set(e.addMer,"summary",t)},expression:"addMer.summary"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"imgAddress",label:"封面(上传或者填写):"}},[a("my-upload",{attrs:{defaultUpload:e.addMer.imgAddress},on:{uploadList:e.getAddImgAddress}}),e._v(" "),a("div",[a("Input",{attrs:{type:"text",placeholder:"封面"},model:{value:e.addMer.imgAddress,callback:function(t){e.$set(e.addMer,"imgAddress",t)},expression:"addMer.imgAddress"}}),e._v(" "),a("img",{staticStyle:{width:"200px"},attrs:{src:e.addMer.imgAddress,alt:""}})],1)],1),e._v(" "),a("FormItem",{attrs:{prop:"recommend",label:"推荐:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.addMer.recommend,callback:function(t){e.$set(e.addMer,"recommend",t)},expression:"addMer.recommend"}},e._l(e.recommendList,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"oldUnitPrice",label:"原始单价:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:2},on:{"on-change":e.changeAddOldUnitPrice},model:{value:e.addMer.oldUnitPrice,callback:function(t){e.$set(e.addMer,"oldUnitPrice",t)},expression:"addMer.oldUnitPrice"}}),e._v("元\n        ")],1),e._v(" "),a("FormItem",{attrs:{prop:"discount",label:"折扣(0-1.00):"}},[a("InputNumber",{attrs:{max:1,min:0,precision:2},on:{"on-change":e.changeAddDiscount},model:{value:e.addMer.discount,callback:function(t){e.$set(e.addMer,"discount",t)},expression:"addMer.discount"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"unitPrice",label:"单价:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:2,disabled:!0},model:{value:e.addMer.unitPrice,callback:function(t){e.$set(e.addMer,"unitPrice",t)},expression:"addMer.unitPrice"}}),e._v("元\n        ")],1),e._v(" "),a("FormItem",{attrs:{prop:"stockNumber",label:"库存:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:0},model:{value:e.addMer.stockNumber,callback:function(t){e.$set(e.addMer,"stockNumber",t)},expression:"addMer.stockNumber"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"status",label:"状态:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.addMer.status,callback:function(t){e.$set(e.addMer,"status",t)},expression:"addMer.status"}},e._l(e.statusList,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"details",label:"商品详情:"}},[a("my-wangeditor",{attrs:{content:e.addMer.details},on:{getWangEditorContent:e.getAddDetails}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:e.addCancel}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"primary",loading:e.addLoading}},[e.addLoading?a("span",[e._v("Loading...")]):a("span",{on:{click:e.addSure}},[e._v("确定")])])],1)],1),e._v(" "),a("Modal",{attrs:{title:"修改商品管理",closable:!1,"mask-closable":!1,width:"1000px"},model:{value:e.updateMerModel,callback:function(t){e.updateMerModel=t},expression:"updateMerModel"}},[a("Form",{ref:"updateMer",attrs:{model:e.updateMer,"label-width":100,"label-position":"right",rules:e.updateMerRules}},[a("FormItem",{attrs:{prop:"merCateId",label:"商品类型:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.updateMer.merCateId,callback:function(t){e.$set(e.updateMer,"merCateId",t)},expression:"updateMer.merCateId"}},e._l(e.merCateList,function(t){return a("Option",{key:t.merCateId,attrs:{value:t.merCateId}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"name",label:"名称:"}},[a("Input",{attrs:{type:"text",placeholder:"名称"},model:{value:e.updateMer.name,callback:function(t){e.$set(e.updateMer,"name",t)},expression:"updateMer.name"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"summary",label:"简介:"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"简介"},model:{value:e.updateMer.summary,callback:function(t){e.$set(e.updateMer,"summary",t)},expression:"updateMer.summary"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"imgAddress",label:"封面(上传或者填写):"}},[a("my-upload",{attrs:{defaultUpload:e.updateMer.imgAddress},on:{uploadList:e.getUpdateImgAddress}}),e._v(" "),a("div",[a("Input",{attrs:{type:"text",placeholder:"封面"},model:{value:e.updateMer.imgAddress,callback:function(t){e.$set(e.updateMer,"imgAddress",t)},expression:"updateMer.imgAddress"}}),e._v(" "),a("img",{staticStyle:{width:"200px"},attrs:{src:e.updateMer.imgAddress,alt:""}})],1)],1),e._v(" "),a("FormItem",{attrs:{prop:"recommend",label:"推荐:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.updateMer.recommend,callback:function(t){e.$set(e.updateMer,"recommend",t)},expression:"updateMer.recommend"}},e._l(e.recommendList,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"oldUnitPrice",label:"原始单价:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:2},on:{"on-change":e.changeUpdateOldUnitPrice},model:{value:e.updateMer.oldUnitPrice,callback:function(t){e.$set(e.updateMer,"oldUnitPrice",t)},expression:"updateMer.oldUnitPrice"}}),e._v("元\n        ")],1),e._v(" "),a("FormItem",{attrs:{prop:"discount",label:"折扣(0-1.00):"}},[a("InputNumber",{attrs:{max:1,min:0,precision:2},on:{"on-change":e.changeUpdateDiscount},model:{value:e.updateMer.discount,callback:function(t){e.$set(e.updateMer,"discount",t)},expression:"updateMer.discount"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"unitPrice",label:"单价:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:2,disabled:!0},model:{value:e.updateMer.unitPrice,callback:function(t){e.$set(e.updateMer,"unitPrice",t)},expression:"updateMer.unitPrice"}}),e._v("元\n        ")],1),e._v(" "),a("FormItem",{attrs:{prop:"stockNumber",label:"库存:"}},[a("InputNumber",{attrs:{max:1e9,min:0,precision:0},model:{value:e.updateMer.stockNumber,callback:function(t){e.$set(e.updateMer,"stockNumber",t)},expression:"updateMer.stockNumber"}})],1),e._v(" "),a("FormItem",{attrs:{prop:"status",label:"状态:"}},[a("Select",{staticStyle:{width:"100px"},attrs:{transfer:"",size:"large"},model:{value:e.updateMer.status,callback:function(t){e.$set(e.updateMer,"status",t)},expression:"updateMer.status"}},e._l(e.statusList,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("FormItem",{attrs:{prop:"details",label:"商品详情:"}},[a("my-wangeditor",{attrs:{content:e.updateMer.details},on:{getWangEditorContent:e.getUpdateDetails}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:e.updateCancel}},[e._v("取消")]),e._v(" "),a("Button",{attrs:{type:"primary",loading:e.updateLoading}},[e.updateLoading?a("span",[e._v("Loading...")]):a("span",{on:{click:e.updateSure}},[e._v("确定")])])],1)],1),e._v(" "),a("Table",{ref:"table",attrs:{border:"",height:"500",columns:e.merColumns,data:e.merList,size:"small"}}),e._v(" "),a("div",{staticStyle:{display:"inline-block",float:"right","margin-top":"10px"}},[a("Page",{ref:"page",staticStyle:{"margin-right":"10px"},attrs:{"show-sizer":"","page-size-opts":e.params.pageSizeOpts,current:e.params.currentPage,total:e.params.total,pageSize:e.params.pageSize,"show-total":!0,"show-elevator":""},on:{"on-page-size-change":e.onPageSizeChange,"on-change":e.selectPage}})],1)],1)},staticRenderFns:[]},o=a("VU/8")(n,l,!1,null,null,null);t.default=o.exports},mClu:function(e,t,a){var r=a("kM2E");r(r.S+r.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});
//# sourceMappingURL=3.2b370d78e2cfd93e31ec.js.map